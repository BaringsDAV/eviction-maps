@import '../../../../theme';

.mapboxgl-map {
  width:100%;
  height:100%;
  position:absolute;
  left:0;right:0;top:0;bottom:0;
}

::ng-deep {
  .mapboxgl-popup-content {
    background-color: $tooltipBackground;
    color: $tooltipFontColor;
    font-family: $fontStack;
  }
  .mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip,
  .mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip,
  .mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip, {
    border-bottom: none;
    border-top-color: $tooltipBackground;
  }
  .mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip {
    border-right: none;
  }
  .mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip {
    border-left: none;
  }
  .mapboxgl-popup-anchor-right .mapboxgl-popup-tip {
    border-right: none;
    border-left-color: $tooltipBackground;
  }
  .mapboxgl-popup-anchor-left .mapboxgl-popup-tip,
  .mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip {
    border-left: none;
    border-right-color: $tooltipBackground;
  }
  .mapboxgl-popup-anchor-top .mapboxgl-popup-tip,
  .mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip,
  .mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip {
    border-top: none;
    border-bottom-color: $tooltipBackground;
  }
  .mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip {
    border-right: none;
  }
  .mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip {
    border-left: none;
  }
}

:host-context(.slider-active) {
  ::ng-deep {
    .mapboxgl-ctrl-bottom-right {
      bottom: grid(5);
    }
    @media(min-width: $gtMobile) {
      .mapboxgl-ctrl-bottom-right {
        bottom: grid(11);
      }
    }
  }
}

:host-context(.slider-active.legend-active) {
  ::ng-deep {
    @media(max-width: $gtMobile) {
      .mapboxgl-ctrl-bottom-right {
        bottom: grid(10);
      }
    }
  }
}

:host-context(.slider-active.cards-active) {
  ::ng-deep {
    .mapboxgl-ctrl-bottom-right {
      bottom: grid(25);
    }
    @media(min-width: $gtMobile) {
      .mapboxgl-ctrl-bottom-right {
        bottom: grid(31);
      }
    }
    @media(min-width: $gtTablet) {
      .mapboxgl-ctrl-bottom-right {
        bottom: grid(11);
      }
    }
  }
}

::ng-deep {
  @media(max-width: $gtMobile) {
    .software-button .slider-active.cards-active .mapboxgl-ctrl-bottom-right {
      bottom: calc(50px + #{grid(25)});
    }
  }
}

:host-context(.slider-active.cards-active.legend-active) {
  ::ng-deep {
    @media(max-width: $gtMobile) {
      .mapboxgl-ctrl-bottom-right {
        bottom: grid(30);
      }
    }
  }
}

::ng-deep {
  @media(max-width: $gtMobile) {
    .software-button .slider-active.cards-active.legend-active .mapboxgl-ctrl-bottom-right {
      bottom: calc(50px + #{grid(30)});
    }
  }
}
