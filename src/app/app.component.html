<div  id="top" class="app-wrapper" [class.map-active]="activeFeatures.length === 0" [class.data-active]="activeFeatures.length > 0">
    <div class="header-wrapper">
        <div class="header-content">
            <img src="./assets/logo.png" class="header-logo" />
            <app-predictive-search
                class="search"
                [(selected)]="search.query"
                [options]="search.results"
                optionField="properties.label"
                (selectionChange)="onSearchSelect($event)">
            </app-predictive-search>
            <app-ui-select
                class="language-select"
                [values]="['English', 'Spanish']"
            ></app-ui-select>
            <button class="btn">
                <span class="glyphicon glyphicon-menu-hamburger"></span>
            </button>
        </div>
    </div>
    <app-map
        [autoSwitch]="autoSwitchLayers"
        [boundingBox]="mapBounds"
        (featureClick)="onFeatureSelect($event)"
        [scrollZoom]="enableZoom"
        [activeFeatures]="activeFeatures.length"
        (yearChange)="setYear($event)"
        [verticalOffset]="verticalOffset"
        (showMapClick)="goToTop()"
        (showDataClick)="goToDataPanel($event)"
    ></app-map>
    <div #divider></div>
    <app-location-cards 
        *ngIf="activeFeatures.length > 0" 
        [features]="activeFeatures"
        [year]="year"
        (viewMore)="goToDataPanel($event)"
        (dismissedCard)="removeLocation($event)"
    ></app-location-cards>
    <app-data-panel
        id="data-panel"
        *ngIf="activeFeatures.length > 0"
        [year]="year"
        [locations]="activeFeatures" 
        (locationRemoved)="removeLocation($event)"
        (locationAdded)="onSearchSelect($event, false)"
    >
      <button (click)="goToTop()" class="btn-primary btn-back-to-map" 
        [style.transform]="buttonOffset"
      >
        <svg class="svg-up-arrow" viewBox="0 0 14 8" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
          <g>
            <polyline points="1 1 6.81226514 6 8.34418334 4.76222126 13 1.00035534"></polyline>
          </g>
        </svg>
        View Map
      </button>
    </app-data-panel>
    <div class="footer">
        <div class="placeholder">
          <img src="./assets/images/footer.png" />
        </div>
    </div>
</div>
